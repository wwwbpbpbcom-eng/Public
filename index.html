<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</title>
<style>
body { font-family: Arial, sans-serif; text-align: center; background: #f5f5f5; }
video, canvas { margin-top: 10px; border: 2px solid #333; }
button { margin-top: 15px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>

<h1>ðŸ“¸ ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø©</h1>
<video id="video" width="300" autoplay></video><br>
<button id="snap">Ø§Ù„ØªÙ‚Ø· ØµÙˆØ±Ø©</button><br>
<canvas id="canvas" width="300" height="200"></canvas><br>
<a id="downloadLink" style="display:none">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</a>

<script>
const video = document.getElementById('video');
const canvas = document.getElementById('canvas');
const context = canvas.getContext('2d');
const downloadLink = document.getElementById('downloadLink');

// Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
navigator.mediaDevices.getUserMedia({ video: true })
  .then(stream => { video.srcObject = stream; })
  .catch(err => { alert("ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§"); console.error(err); });

// Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©
document.getElementById("snap").addEventListener("click", () => {
  context.drawImage(video, 0, 0, canvas.width, canvas.height);
  const dataURL = canvas.toDataURL("image/png");
  
  // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„
  downloadLink.href = dataURL;
  downloadLink.download = "photo.png";
  downloadLink.textContent = "ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©";
  downloadLink.style.display = "inline";
});
</script>

</body>
</html>
